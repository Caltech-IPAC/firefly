<project name="IPAC Common GWT Build File" default="all" basedir=".">
    <description>
        The build file for building client.jar
    </description>
<!-- Project level init file -->
    <property name="build.root" value="${basedir}/../../../.."/>
    <import file="${build.root}/tools/init.xml"/>

<!-- local properties -->
    <property name="pkg.commongwt" value="edu/caltech/ipac"/>
    <property name="jar.update.src.dir" value="${src.dir}"/>
    <property name="all.files" value=" ${pkg.commongwt}/astro/CoordException.*
                                       ${pkg.commongwt}/astro/conv/*
                                       ${pkg.commongwt}/astro/Coord.*
                                       ${pkg.commongwt}/data/DataConst.*
                                       ${pkg.commongwt}/targetgui/net/Resolver.*
                                       ${pkg.commongwt}/visualize/draw/Metric.*
                                       ${pkg.commongwt}/visualize/draw/Metrics.*
                                       ${pkg.commongwt}/visualize/plot/projection/*
                                       ${pkg.commongwt}/visualize/plot/Pt.*
                                       ${pkg.commongwt}/visualize/plot/ImagePt.*
                                       ${pkg.commongwt}/visualize/plot/ImageWorkSpacePt.*
                                       ${pkg.commongwt}/visualize/plot/WorldPt.*
                                       ${pkg.commongwt}/visualize/plot/ResolvedWorldPt.*
                                       ${pkg.commongwt}/visualize/plot/ProjectionPt.*
                                       ${pkg.commongwt}/visualize/plot/PixelValueException.*
                                       ${pkg.commongwt}/visualize/plot/ImageCorners.*
                                       ${pkg.commongwt}/visualize/plot/CoveragePolygons.*
                                       ${pkg.commongwt}/visualize/plot/Circle.*
                                       ${pkg.commongwt}/visualize/plot/RangeValues.*
                                       ${pkg.commongwt}/visualize/plot/ProjectionException.*
                                       ${pkg.commongwt}/visualize/plot/CoordinateSys.*
                                       ${pkg.commongwt}/visualize/plot/MiniFitsHeader.*
                                       ${pkg.commongwt}/util/dd/*
                                       ${pkg.commongwt}/util/decimate/*
                                       ${pkg.commongwt}/util/expr/*
                                       ${pkg.commongwt}/util/action/ActionConst*
                                       ${pkg.commongwt}/util/MapPropertyLoader.*
                                       ${pkg.commongwt}/util/MapPropertyLoader.*
                                       ${pkg.commongwt}/util/ComparisonUtil.*
                                       ${pkg.commongwt}/util/StringUtils.*
                                       ${pkg.commongwt}/util/HandSerialize.*
                                       ${pkg.commongwt}/util/Cache.*
                                       ${pkg.commongwt}/util/Base64.*
                                       ${pkg.commongwt}/util/StringTokenizer.*
                                       ${pkg.commongwt}/util/RegionFactory.*
                                       ${pkg.commongwt}/util/CollectionUtil.* "  />

<!-- files to include in build -->
    <property name="compile.includes" value="${all.files}"/>
    <property name="jar.includes" value="${pkg.commongwt}/Common.gwt.xml
                                         ${all.files}" />
    <property name="jar.update.includes" value="${pkg.commongwt}/Common.gwt.xml
                                         ${all.files}" />

<!-- files to exclude from build -->
<!-- jar properties -->
    <property name="jar.base" value="common-gwt"/>
    <property name="jar.file" value="${jar.base}.jar"/>
    <property name="jar.display.name" value="All the common files we use in GWT"/>
    <property name="auto.update.attr" value="CRITICAL"/>

    <target name="build-common">
       <ant antfile="build.xml" target="planner"/>
        <ant antfile="build.xml" target="astro"/>
    </target>


    <!--The following only does the jar without call the common build, -->
    <!--it should only be called from the common build when know that  -->
    <!--jarring has already happened-->
    <target name="jar-only" depends="jar, jar.update"/>



    <target name="all" depends="build-common, jar-only"
            description="build gwt module common-gwt.jar"/>



</project>
