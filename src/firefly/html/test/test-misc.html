<!doctype html>

<!--
  ~ License information at https://github.com/Caltech-IPAC/firefly/blob/master/License.txt
  -->

<html>

<head>
    <title>Firefly main tests</title>
    <link rel="stylesheet" href="styles.css">
    <script type="text/javascript" src="template_loader.js"></script>
</head>

<body>

<!-- define all of your tests below -->

<template title="API 2 Table / Customized HiPS" style='height: 400px' class="tpl" >
    <div id="expected" style="position: relative" >
        <div class="source-code indent-3" style="position: absolute; bottom: 0; left: 0">
            - two tables, both wise catalogs
            - Coverage display, HiPS, ALLWISE
            - HiPS image is customized
            - META_INFO contains
               {CoverageHiPS: 'ivo://CDS/P/allWISE/color'}
            
            - Testing:
                 - click on table to center catalog
                 - zoom in and click on rows to center
                            if off the screen
        </div>
    </div>
    <div id="actual" class="flow-h">
        <div id="tableDiv" style='width:500px;' class="box"></div>
        <div id="coverageDiv" style='width:500px;' class="box"></div>
    </div>
    <script>
        irsaviewer_init();

        onFireflyLoaded = function (firefly) {

            firefly.util.image.initAutoReadout(
                firefly.ui.DefaultApiReadout,
                { MouseReadoutComponent:firefly.ui.PopupMouseReadoutMinimal,
                    showThumb:false,
                    showMag:false
                }
            );
            table1Data = firefly.util.table.makeIrsaCatalogRequest('WISE catalog', 'WISE', 'allwise_p3as_psd',
                { position: '10.68479;41.26906;EQ_J2000',
                    SearchMethod: 'Cone',
                    radius: 100
                },
                { META_INFO: {CENTER_COLUMN: 'ra;dec;EQJ2000', CatalogOverlayType: 'IRSA', CoverageHiPS: 'ivo://CDS/P/allWISE/color'}}
            );

            table2Data = firefly.util.table.makeIrsaCatalogRequest('WISE catalog', 'WISE', 'allwise_p3as_psd',
                { position: '0;0;GAL',
                    SearchMethod: 'Cone',
                    radius: 200
                },
                { META_INFO: {CENTER_COLUMN: 'ra;dec;EQJ2000',
                        CatalogOverlayType: 'IRSA'}}
            );

            firefly.showTable('tableDiv', table1Data,
                { removable: true,
                    showTitle:false,
                    showUnits: true,
                    showFilters: false,
                    selectable: false,
                    expandable: true,
                    help_id: 'tables'
                }
            );

            firefly.showTable('tableDiv', table2Data,
                { removable: true,
                    showTitle:false,
                    showUnits: true,
                    showFilters: false,
                    selectable: false,
                    expandable: true,
                    help_id: 'tables'
                }
            );


            firefly.showCoverage('coverageDiv', {gridOn:'FALSE'});

        }
    </script>
</template>





<!-- this is where test cases will be attached-->
<div id="tst-container"/>


</body>