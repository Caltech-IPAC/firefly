<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE Project SYSTEM "../../project.dtd">

<Project>
    <Name>finderchart</Name>
    <Title>Finder Chart</Title>
    <Properties>
        <Param key="footer" value="irsa_footer_minimal.html"/>
        <Param key="helpMenu" value="FInderChart Help;FInderChart Help;overviewHelp"/>
        <Param key="about" value="About FinderChart;About FinderChart;http://irsa.ipac.caltech.edu"/>
        <Param key="catalogSearchMethod" value="POLYGON"/>
    </Properties>
    <OverrideProperties>
        <Param key="BackgroundGroupsDialog.Title" value="FinderChart Background Monitor"/>
    </OverrideProperties>
    <SearchGroup>
        <Name>finderchart</Name>
        <Title>Finder Chart</Title>

        <SearchType layoutSelector="true" helpId="basics.searching">
            <Name>finder_chart</Name>
            <Title>Finder Chart</Title>
            <Form>
                <FormEventWorker id="hide_bands" type="FieldDefVisibilityControl">
                    <Param key="masters" value="sources=*"></Param>
                    <Param key="hide" value="dss_bands,iras_bands,twomass_bands,wise_bands,SDSS_bands"></Param>
                    <Param key="retainSpace" value="false"></Param>
                </FormEventWorker>
                <FormEventWorker id="dss_bands_visi" type="FieldDefVisibilityControl">
                    <Param key="masters" value="contains(sources=DSS)"></Param>
                    <Param key="show" value="dss_bands"></Param>
                    <Param key="retainSpace" value="false"></Param>
                </FormEventWorker>
                <FormEventWorker id="iras_bands_visi" type="FieldDefVisibilityControl">
                    <Param key="masters" value="contains(sources=IRIS)"></Param>
                    <Param key="show" value="iras_bands"></Param>
                    <Param key="retainSpace" value="false"></Param>
                </FormEventWorker>
                <FormEventWorker id="twomass_bands_visi" type="FieldDefVisibilityControl">
                    <Param key="masters" value="contains(sources=twomass)"></Param>
                    <Param key="show" value="twomass_bands"></Param>
                    <Param key="retainSpace" value="false"></Param>
                </FormEventWorker>
                <FormEventWorker id="wise_bands_visi" type="FieldDefVisibilityControl">
                    <Param key="masters" value="contains(sources=WISE)"></Param>
                    <Param key="show" value="wise_bands"></Param>
                    <Param key="retainSpace" value="false"></Param>
                </FormEventWorker>
                <FormEventWorker id="SDSS_bands_visi" type="FieldDefVisibilityControl">
                    <Param key="masters" value="contains(sources=SDSS)"></Param>
                    <Param key="show" value="SDSS_bands"></Param>
                    <Param key="retainSpace" value="false"></Param>
                </FormEventWorker>

                <FieldGroup type="activeTabPane" typeName="POS UPL TabPane" width="640px" height="106px">
                    <FieldGroup align="left" labelWidth="90">
                        <Title>Single-Object</Title>
                        <PreDefField id="simpleTargetPanel"/>
                    </FieldGroup>
                    <FieldGroup labelWidth="90">
                        <Title>Multi-Object</Title>
                        <File>
                            <Name>filename</Name>
                            <Title>File Name</Title>
                            <Cached/>
                            <Size>62</Size>
                            <ShortDescription>Select a file to upload</ShortDescription>
                            <ErrorDescription>File upload error</ErrorDescription>
                        </File>
                        <Help helpId="basics.byTable">
                            <Title>Help on file format</Title>
                        </Help>
                    </FieldGroup>
                </FieldGroup>
                <FieldGroup align="left" width="640px" labelWidth="90">
                    <DEGREE units="arcsec">
                        <Name>subsize</Name>
                        <Title>Image Size</Title>
                        <Default>300</Default>
                        <ShortDescription>Enter the image size between 6 and 3600 arcsec</ShortDescription>
                        <ErrorDescription>Image size should be between 6 and 3600 arcsec</ErrorDescription>
                        <Min>6</Min>
                        <Max>3600</Max>
                        <Cached/>
                    </DEGREE>
                    <EnumString orientation="horizontal">
                        <Name>thumbnail_size</Name>
                        <Title>Display Size: </Title>
                        <PreferWidth>150</PreferWidth>
                        <Mask>[RADIO]</Mask>
                        <Default>medium</Default>
                        <ShortDescription>Select the image display size.</ShortDescription>
                        <EnumValue id="small">
                            <Title>Small</Title>
                            <IntValue>128</IntValue>
                        </EnumValue>
                        <EnumValue id="medium">
                            <Title>Medium</Title>
                            <IntValue>192</IntValue>
                        </EnumValue>
                        <EnumValue id="large">
                            <Title>Large</Title>
                            <IntValue>256</IntValue>
                        </EnumValue>
                    </EnumString>

                    <EnumString orientation="horizontal">
                        <Name>sources</Name>
                        <Title>Select Image(s): </Title>
                        <PreferWidth>150</PreferWidth>
                        <Mask>[CHECKBOX]</Mask>
                        <Default>DSS,SDSS,twomass,WISE</Default>
                        <ShortDescription>Select the data source(s) to search.</ShortDescription>
                        <ErrorDescription>Please select at least one data source.</ErrorDescription>
                        <EnumValue id="DSS">
                            <Title>DSS</Title>
                        </EnumValue>
                        <EnumValue id="SDSS">
                            <Title>SDSS</Title>
                        </EnumValue>
                        <EnumValue id="twomass">
                            <Title>2MASS</Title>
                        </EnumValue>
                        <EnumValue id="WISE">
                            <Title>WISE</Title>
                        </EnumValue>
                        <EnumValue id="IRIS">
                            <Title>IRAS (IRIS)</Title>
                        </EnumValue>
                    </EnumString>
                </FieldGroup>
                <FieldGroup type="activeCollapsiblePanel" labelWidth="90" width="640px">
                    <Title>Customize wavelength selection:</Title>
                    <EnumString orientation="horizontal">
                        <Name>dss_bands</Name>
                        <Title>DSS: </Title>
                        <PreferWidth>150</PreferWidth>
                        <Mask>[CHECKBOX]</Mask>
                        <Default>_all_</Default>
                        <ShortDescription>Select the band(s) to display.</ShortDescription>
                        <ErrorDescription>Please select at least one band.</ErrorDescription>
                        <EnumValue id="poss1_blue">
                            <Title>DSS1 Blue</Title>
                        </EnumValue>
                        <EnumValue id="poss1_red">
                            <Title>DSS1 Red</Title>
                        </EnumValue>
                        <EnumValue id="poss2ukstu_blue">
                            <Title>DSS2 Blue</Title>
                        </EnumValue>
                        <EnumValue id="poss2ukstu_red">
                        	<Title>DSS2 Red</Title>
                        </EnumValue>
			            <EnumValue id="poss2ukstu_ir">
                            <Title>DSS2 IR</Title>
                        </EnumValue>
                    </EnumString>

                    <EnumString orientation="horizontal">
                        <Name>SDSS_bands</Name>
                        <Title>SDSS band(s): </Title>
                        <PreferWidth>150</PreferWidth>
                        <Mask>[CHECKBOX]</Mask>
                        <Default>_all_</Default>
                        <ShortDescription>Enter the band(s) to search.</ShortDescription>
                        <ErrorDescription>Please select at least one band.</ErrorDescription>
                        <EnumValue id="u">
                        	<Title>u</Title>
                        </EnumValue>
			            <EnumValue id="g">
                        	<Title>g</Title>
                        </EnumValue>
			            <EnumValue id="r">
                        	<Title>r</Title>
                        </EnumValue>
			            <EnumValue id="i">
                        	<Title>i</Title>
                        </EnumValue>
			            <EnumValue id="z">
                        	<Title>z</Title>
                        </EnumValue>
                    </EnumString>
                    <EnumString orientation="horizontal">
                        <Name>twomass_bands</Name>
                        <Title>2MASS </Title>
                        <PreferWidth>150</PreferWidth>
                        <Mask>[CHECKBOX]</Mask>
                        <Default>_all_</Default>
                        <ShortDescription>Select the band(s) to display.</ShortDescription>
                        <ErrorDescription>Please select at least one band.</ErrorDescription>
                        <EnumValue id="j">
                        	<Title>J</Title>
                        </EnumValue>
			            <EnumValue id="h">
                        	<Title>H</Title>
                        </EnumValue>
			            <EnumValue id="k">
                        	<Title>K</Title>
                        </EnumValue>
                    </EnumString>


                    <EnumString orientation="horizontal">
                        <Name>wise_bands</Name>
                        <Title>WISE: </Title>
                        <PreferWidth>150</PreferWidth>
                        <Mask>[CHECKBOX]</Mask>
                        <Default>_all_</Default>
                        <ShortDescription>Select the band(s) to display.</ShortDescription>
                        <ErrorDescription>Please select at least one band.</ErrorDescription>
                        <EnumValue id="1">
                        	<Title>w1 (3.4 microns)</Title>
                        </EnumValue>
			            <EnumValue id="2">
                        	<Title>w2 (4.6 microns)</Title>
                        </EnumValue>
            			<EnumValue id="3">
                        	<Title>w3 (12 microns)</Title>
                        </EnumValue>
			            <EnumValue id="4">
                        	<Title>w4 (22 microns)</Title>
                        </EnumValue>
                    </EnumString>

                    <EnumString orientation="horizontal">
                        <Name>iras_bands</Name>
                        <Title>IRAS: </Title>
                        <PreferWidth>150</PreferWidth>
                        <Mask>[CHECKBOX]</Mask>
                        <Default>_all_</Default>
                        <ShortDescription>Select the wavelength(s) to display.</ShortDescription>
                        <ErrorDescription>Please select at least one wavelength.</ErrorDescription>
                        <EnumValue id="12">
                        	<Title>12 microns</Title>
                        </EnumValue>
            			<EnumValue id="25">
                        	<Title>25 microns</Title>
                        </EnumValue>
			            <EnumValue id="60">
                        	<Title>60 microns</Title>
                        </EnumValue>
            			<EnumValue id="100">
                        	<Title>100 microns</Title>
                        </EnumValue>
                    </EnumString>
                    <!--EnumString orientation="horizontal">
                        <Name>wise_artifacts</Name>
                        <Title>Overlay Wise Artifacts: </Title>
                        <PreferWidth>150</PreferWidth>
                        <Mask>[CHECKBOX]</Mask>
                        <Default>_none_</Default>
                        <NullAllowed/>
                        <EnumValue id="diff_spikes_3_">
                            <Title>Diffraction Spikes</Title>
                        </EnumValue>
                        <EnumValue id="halos_">
                            <Title>Halos</Title>
                        </EnumValue>
                        <EnumValue id="ghosts_">
                            <Title>Optical Ghosts</Title>
                        </EnumValue>
                        <EnumValue id="latents_">
                            <Title>Latents</Title>
                        </EnumValue>
                    </EnumString>

                    <EnumString orientation="horizontal">
                        <Name>twomass_artifacts</Name>
                        <Title>Overlay 2MASS Artifacts: </Title>
                        <PreferWidth>150</PreferWidth>
                        <Mask>[CHECKBOX]</Mask>
                        <Default>_none_</Default>
                        <NullAllowed/>
                        <EnumValue id="glint_arti_">
                            <Title>Glint</Title>
                        </EnumValue>
                        <EnumValue id="pers_arti_">
                            <Title>Persistence</Title>
                        </EnumValue>
                    </EnumString-->
                </FieldGroup>
            </Form>
            <Query id="finderChart" searchProcessorId="QueryFinderChartWeb" ref-xid="finderChart">
                <Param key="maxSearchTargets" value="1000"/>
                <Metadata>
                    <Param key="datasetInfoConverterId" value="FINDER_CHART"/>
                </Metadata>
                <Download id="FinderChartDownload" filePrefix="FinderChartFiles" title="Options" titlePrefix="Download Files" maxRows="5000">
                    <Param key="maxTargetsPerPdf" value="1000"/>
                    <Form>
                        <FormEventWorker id="hide_downloadOptions" type="FieldDefVisibilityControl">
                            <Param key="masters" value="SimpleTargetPanel.field.position=*"></Param>
                            <Param key="hide" value="scope"></Param>
                            <Param key="retainSpace" value="false"></Param>
                        </FormEventWorker>
                        <FormEventWorker id="show_downloadOptions" type="FieldDefVisibilityControl">
                            <Param key="masters" value="filename=*"></Param>
                            <Param key="show" value="scope"></Param>
                            <Param key="retainSpace" value="false"></Param>
                        </FormEventWorker>
                        <FormEventWorker id="show_itemize" type="FieldDefVisibilityControl">
                            <Param key="masters" value="scope=all"></Param>
                            <Param key="show" value="itemize"></Param>
                            <Param key="retainSpace" value="false"></Param>
                        </FormEventWorker>
                        <FormEventWorker id="hide_itemize1" type="FieldDefVisibilityControl">
                            <Param key="masters" value="scope=current"></Param>
                            <Param key="hide" value="itemize"></Param>
                            <Param key="retainSpace" value="false"></Param>
                        </FormEventWorker>
                        <FormEventWorker id="hide_itemize2" type="FieldDefVisibilityControl">
                            <Param key="masters" value="SimpleTargetPanel.field.position=*"></Param>
                            <Param key="hide" value="itemize"></Param>
                            <Param key="retainSpace" value="false"></Param>
                        </FormEventWorker>
                        <FieldGroup labelWidth="120" width="400px">
                            <EnumString orientation="horizontal">
                                <Name>scope</Name>
                                <Title>Download target(s):</Title>
                                <PreferWidth>400</PreferWidth>
                                <Mask>[RADIO]</Mask>
                                <Default>all</Default>
                                <ShortDescription>Download finder chart files of current target or all targets.</ShortDescription>
                                <EnumValue id="current">
                                    <Title>Current target</Title>
                                </EnumValue>
                                <EnumValue id="all">
                                    <Title>All targets</Title>
                                </EnumValue>
                            </EnumString>
                            <EnumString orientation="horizontal">
                                <Name>file_type</Name>
                                <Title>File Type:</Title>
                                <PreferWidth>400</PreferWidth>
                                <Mask>[RADIO]</Mask>
                                <Default>fits</Default>
                                <ShortDescription>Download finder chart files as FITS or PNG.</ShortDescription>
                                <EnumValue id="fits">
                                    <Title>FITS</Title>
                                </EnumValue>
                                <EnumValue id="html">
                                    <Title>HTML</Title>
                                </EnumValue>
                                <EnumValue id="pdf">
                                    <Title>PDF</Title>
                                </EnumValue>
                                <EnumValue id="png">
                                    <Title>PNG</Title>
                                </EnumValue>
                            </EnumString>
                            <EnumString orientation="horizontal">
                                <Name>itemize</Name>
                                <Title>Separate by Object:</Title>
                                <PreferWidth>400</PreferWidth>
                                <Mask>[CHECKBOX]</Mask>
                                <Default>_none_</Default>
                                <NullAllowed/>
                                <ShortDescription>Create separate directory or separate PDF file for each object.</ShortDescription>
                                <EnumValue id="true">
                                    <Title></Title>
                                </EnumValue>
                            </EnumString>
                            <EnumString orientation="horizontal">
                                <Name>reproject</Name>
                                <Title>Re-projected (north up)</Title>
                                <PreferWidth>400</PreferWidth>
                                <Mask>[CHECKBOX]</Mask>
                                <Default></Default>
                                <NullAllowed/>
                                <ShortDescription>Specifies whether to reproject and resample the images.</ShortDescription>
                                <EnumValue id="true">
                                    <Title></Title>
                                </EnumValue>
                            </EnumString>
                        </FieldGroup>
                    </Form>
                </Download>
            </Query>
            <!-- Catalog queries section -->
            <Query id="dssCatalog" searchProcessorId="GatorQuery">
                <Constraints>
                    <Condition fieldDefId="optBand" value="44"/>
                </Constraints>
                <Param key="SearchMethod" value="Table"/>
                <Param key="radunits" value="degree"/>
                <Param key="GatorHost" value="irsa"/>
                <Param key="catalog" value="fp_psc"/>
                <Param key="onlist" value="true"/>
                <Metadata>
                    <Param key="CENTER_COLUMN" value="ra;dec;EQ_J2000"/>
                </Metadata>
            </Query>



            <Result xid="finderChartImageResult">
                <EventWorker id="target" type="ActiveTarget">
                    <QueryId>finderChart</QueryId>
                </EventWorker>
                <EventWorker id="FinderChartUIController" type="FinderChartUIController">
                    <QueryId>finderChart</QueryId>
                </EventWorker>

                <Layout>
                    <SplitPanel>
                        <South id="fc_catalog_tab" layout="tab" tagIt="true" initialHeight="250">
                        </South>
                        <West id="fc_source_tab" layout="fixedTab" tagIt="true" initialWidth="250">
                            <Table id="fc_source_table" type="BasicTable">
                                <QueryId>finderChart</QueryId>
                                <Title>Targets</Title>
                                <ShortDescription>List of search targets</ShortDescription>
                            </Table>
                        </West>
                        <Center id="fc_image_grid" layout="fixedTab" tagIt='true' helpId="results">
                            <Preview type="multiDataViewerPreview">
                                <QueryId>finderChart</QueryId>
                                <Title>Finder Chart</Title>
                            </Preview>
                        </Center>
                    </SplitPanel>
                </Layout>
            </Result>
        </SearchType>
    </SearchGroup>
</Project>
