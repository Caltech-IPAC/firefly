# Load these two modules if not already loaded
#LoadModule proxy_module      modules/mod_proxy.so
#LoadModule proxy_ajp_module  modules/mod_proxy_ajp.so


ProxyRequests Off
ProxyPreserveHost On
ProxyStatus On

# Banner servers proxy
<Proxy balancer://banner>
  BalancerMember ajp://***REMOVED***:8009 route=shadev1 disablereuse=on
  BalancerMember ajp://shadev2.ipac.caltech.edu:8009 route=shadev2 disablereuse=on
  ProxySet lbmethod=bybusyness
</Proxy>

ProxyPass        /frontpage balancer://banner/frontpage
ProxyPassReverse /frontpage balancer://banner/frontpage

# Identity Server for Hydra
ProxyPass        /josso http://***REMOVED***/josso
ProxyPassReverse /josso http://***REMOVED***/josso

ProxyPass        /account http://***REMOVED***/account
ProxyPassReverse /account http://***REMOVED***/account


## Proxy configuration for SHA

<Proxy balancer://sha>
  BalancerMember ajp://***REMOVED***:8009 route=shaapp1 disablereuse=on
  BalancerMember ajp://***REMOVED***:8009 route=shaapp2 disablereuse=on
  ProxySet lbmethod=bybusyness
</Proxy>
<Proxy balancer://sha_sticky>
  BalancerMember ajp://***REMOVED***:8009 route=shaapp1 disablereuse=on
  BalancerMember ajp://***REMOVED***:8009 route=shaapp2 disablereuse=on
  ProxySet lbmethod=bybusyness
  ProxySet stickysession=JSESSIONID
</Proxy>

ProxyPass         /applications/Spitzer/SHA/sticky/ balancer://sha_sticky/applications/Spitzer/SHA/sticky/
ProxyPassReverse  /applications/Spitzer/SHA/sticky/ balancer://sha_sticky/applications/Spitzer/SHA/sticky/
ProxyPass         /applications/Spitzer/SHA balancer://sha/applications/Spitzer/SHA
ProxyPassReverse  /applications/Spitzer/SHA balancer://sha/applications/Spitzer/SHA

## VO Services
ProxyPass         /applications/Spitzer/VO balancer://sha/applications/Spitzer/VO
ProxyPassReverse  /applications/Spitzer/VO balancer://sha/applications/Spitzer/VO

## end proxy config for SHA


## Proxy configuration for Hydra

<Proxy balancer://hydra>
  BalancerMember ajp://***REMOVED***:8009 route=shadev1 disablereuse=on
  BalancerMember ajp://shadev2.ipac.caltech.edu:8009 route=shadev2 disablereuse=on
  ProxySet lbmethod=bybusyness
</Proxy>
<Proxy balancer://hydra_sticky>
  BalancerMember ajp://***REMOVED***:8009 route=shadev1 disablereuse=on
  BalancerMember ajp://shadev2.ipac.caltech.edu:8009 route=shadev2 disablereuse=on
  ProxySet lbmethod=bybusyness
  ProxySet stickysession=JSESSIONID
</Proxy>

## Hydra app for WISE
ProxyPass         /applications/wise/sticky/ balancer://hydra_sticky/applications/wise/sticky/
ProxyPassReverse  /applications/wise/sticky/ balancer://hydra_sticky/applications/wise/sticky/
ProxyPass         /applications/wise balancer://hydra/applications/wise
ProxyPassReverse  /applications/wise balancer://hydra/applications/wise

## Hydra app for iWISE
ProxyPass         /applications/iwise/sticky/ balancer://hydra_sticky/applications/iwise/sticky/
ProxyPassReverse  /applications/iwise/sticky/ balancer://hydra_sticky/applications/iwise/sticky/
ProxyPass         /applications/iwise balancer://hydra/applications/iwise
ProxyPassReverse  /applications/iwise balancer://hydra/applications/iwise

## Hydra app for Planck
ProxyPass         /applications/planck/sticky/ balancer://hydra_sticky/applications/planck/sticky/
ProxyPassReverse  /applications/planck/sticky/ balancer://hydra_sticky/applications/planck/sticky/
ProxyPass         /applications/planck balancer://hydra/applications/planck
ProxyPassReverse  /applications/planck balancer://hydra/applications/planck

## Hydra app for PTF
ProxyPass         /applications/ptf/sticky/ balancer://hydra_sticky/applications/ptf/sticky/
ProxyPassReverse  /applications/ptf/sticky/ balancer://hydra_sticky/applications/ptf/sticky/
ProxyPass         /applications/ptf balancer://hydra/applications/ptf
ProxyPassReverse  /applications/ptf balancer://hydra/applications/ptf

## Hydra app for lcogt
ProxyPass         /applications/lcogt/sticky/ balancer://hydra_sticky/applications/lcogt/sticky/
ProxyPassReverse  /applications/lcogt/sticky/ balancer://hydra_sticky/applications/lcogt/sticky/
ProxyPass         /applications/lcogt balancer://hydra/applications/lcogt
ProxyPassReverse  /applications/lcogt balancer://hydra/applications/lcogt

## Hydra app for finderchart
ProxyPass         /applications/finderchart/sticky/ balancer://hydra_sticky/applications/finderchart/sticky/
ProxyPassReverse  /applications/finderchart/sticky/ balancer://hydra_sticky/applications/finderchart/sticky/
ProxyPass         /applications/finderchart balancer://hydra/applications/finderchart
ProxyPassReverse  /applications/finderchart balancer://hydra/applications/finderchart

## Hydra app for LSST
ProxyPass         /applications/lsst/sticky/ balancer://hydra_sticky/applications/lsst/sticky/
ProxyPassReverse  /applications/lsst/sticky/ balancer://hydra_sticky/applications/lsst/sticky/
ProxyPass         /applications/lsst balancer://hydra/applications/lsst
ProxyPassReverse  /applications/lsst balancer://hydra/applications/lsst

## Hydra app for fftools
ProxyPass         /applications/fftools/sticky/ balancer://hydra_sticky/applications/fftools/sticky/
ProxyPassReverse  /applications/fftools/sticky/ balancer://hydra_sticky/applications/fftools/sticky/
ProxyPass         /applications/fftools balancer://hydra/applications/fftools
ProxyPassReverse  /applications/fftools balancer://hydra/applications/fftools


## end proxy config for Hydra support


