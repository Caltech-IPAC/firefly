<project name="External raphael.jar Build File" default="all" basedir=".">
    <description>
        The build file for building raphael-modified-r24.jar
    </description>
<!-- Project level init file -->
    <property name="build.root" value="${basedir}/../.."/>
    <import file="${build.root}/tools/init.xml"/>
    <import file="${firefly.build.root}/tools/common.xml"/>

<!-- local properties -->

<!-- files to include in build -->
    <property name="compile.src.dir" value="${basedir}"/>
    <property name="compile.includes" value="com/hydro4ge/raphaelgwt/**"/>
    <property name="resources.includes" value="com/hydro4ge/raphaelgwt/**"/>
    <property name="jar.includes" value="com/hydro4ge/raphaelgwt/**"/>

<!-- files to exclude from build -->

<!-- jar properties -->
    <property name="jar.base" value="raphael-modified-r24"/>
    <property name="jar.file" value="${jar.base}.jar"/>

    <uptodate property="build.raphael.notRequired" targetfile="${jars.dir}/${jar.base}.jar" >
        <srcfiles dir="${basedir}" includes="*"/>
    </uptodate>


    <target name="uptodate.raphael.check" if="build.raphael.notRequired">
        <echo message="raphael.jar is up-to-date"/>
    </target>

<!--  building simbad only if the wsdl file is later than the generated jar file -->
    <target name="all" depends="uptodate.raphael.check"  unless="build.notRequired"
                    description="build raphael.jar if necessary">
        <antcall target="jar" inheritall="false" inheritrefs="false"/>
    </target>

</project>
