<project name="External xstream-gwt.jar Build File" default="all" basedir=".">
    <description>
        The build file for building xstream-gwt.jar
    </description>
<!-- Project level init file -->
    <property name="build.root" value="${basedir}/../.."/>
    <import file="${build.root}/tools/init.xml"/>

<!-- local properties -->

<!-- files to include in build -->
    <property name="compile.src.dir" value="${basedir}"/>
    <property name="compile.includes" value="com/thoughtworks/xstream/**"/>
    <property name="resources.includes" value="com/thoughtworks/xstream/**"/>
    <property name="jar.includes" value="com/thoughtworks/xstream/**"/>

<!-- files to exclude from build -->

<!-- jar properties -->
    <property name="jar.base" value="xstream-gwt"/>
    <property name="jar.file" value="${jar.base}.jar"/>

    <uptodate property="build.notRequired" targetfile="${jars.dir}/${jar.base}.jar" >
        <srcfiles dir="${basedir}" includes="*"/>
    </uptodate>


    <target name="uptodate.check" if="build.notRequired">
        <echo message="xstream-gwt.jar is up-to-date"/>
    </target>

<!--  building simbad only if the wsdl file is later than the generated jar file -->
    <target name="all" depends="uptodate.check"  unless="build.notRequired"
                    description="build xstream-gwt.jar if necessary">
        <antcall target="jar" inheritall="false" inheritrefs="false"/>
    </target>

</project>
