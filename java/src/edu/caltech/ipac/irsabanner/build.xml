<project name="irsabanner.zip Build File" default="all" basedir=".">
    <description>
        The build file for building irsabanner.zip
    </description>
<!-- Project level init file -->
    <property name="build.root" value="${basedir}/../../../../.."/>
    <import file="init.xml"/>

<!-- project properties -->
    <property name="zip.base" value="irsabanner"/>
    <property name="zip.file" value="${zip.base}.zip"/>

<!-- local properties -->
    <property name="gwt.module" value="edu.caltech.ipac.irsabanner.IrsaBanner"/>
    <property name="gwt.module.launch.url" value="irsabanner/irsabanner.html"/>

<!-- files to include in build -->
    <property name="compile.includes" value="edu/caltech/ipac/irsabanner/**"/>
    <property name="zip.includes" value="${zip.base}/**"/>
    <property name="zip.src.dir" value="${work.dir}"/>

    <property name="resources.includes" value="edu/caltech/ipac/irsabanner/IrsaBanner.gwt.xml
                                               edu/caltech/ipac/irsabanner/**/resources/*"/>



    <target name="clean" depends="Common Build Rules.clean, clean.gwt.compile"
            description="clean up the artifacts generated by building irsabanner.zip">
    </target>

    <target name="all" depends="compile, copy.resources, gwt.compile, zip"
            description="build the irsabanner.zip">
    </target>

    <target name="all.dirty" depends="compile, copy.resources, pubcopy, zip"
            description="build the irsabanner.zip without doing a GWT compile">
    </target>

    <target name="run" depends="compile, pubcopy, gwt.run"
            description="launch irsabanner using the GWT shell">
    </target>

    <target name="pubcopy" depends="prepare.work.dir" description="shortcut to move public files">
        <copy todir="${work.doc.root}">
            <fileset dir="${basedir}/public" includes="**"> </fileset>
        </copy>
        <copy todir="${dest.dir}/resources" flatten="true">
            <fileset dir="${src.dir}" includes="edu/caltech/ipac/firefly/resources/**/*"/>
            <fileset dir="${src.dir}" includes="edu/caltech/ipac/irsasbanner/resources/**/*"/>
        </copy>

    </target>

</project>
