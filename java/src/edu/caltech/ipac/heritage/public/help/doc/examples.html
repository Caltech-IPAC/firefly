
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<TITLE>Spitzer Heritage Archive: Examples
</TITLE>

</HEAD>

<BODY BGCOLOR="white" >
<h3>Quick examples for the the Spitzer Heritage Archive</h3>

Very detailed step-by-step recipes for downloading data can be found
at the <a href="http://irsa.ipac.caltech.edu/data/SPITZER/docs/"
target="_blank">IRSA Spitzer site</A>, and in the Data Analysis
Cookbook, in the longer standalone PDF SHA documentation, and there
are even screen-capture videos can be found on the Data Archive page. 
Here, we capture a few brief examples.<P>

<h3>I have detected an object at a non-Spitzer band, and I want to
know if Spitzer saw anything there.</h3>

Start an SHA search by position. Enter your desired coordinates. Ask
for Level 2 and Contributed Enhanced data to be returned.  Enter a
search radius of at least 500 arcsec.<P>


When you get a search result, in the search results pane, click on one
of the rows you  wish to investigate. Go over to the Details Pane, and
click on the "AOR Footprint" tab. This is the outline of the
observations. Click on the crossed tools icon just above and to the
right of the image (you may have to put your mouse in the image to see
this appear). You will get a popup with image tools; click on the
"spider-webby" icon  to get  coordinates added to your image. Did the 
field of view or the slit actually hit the specific region you
wanted?  If not, pick  another observation and try this again until
you find an observation you think  would be useful to pursue
further.<P> 

Having found that one observation that you think would be useful to
further pursue,  especially if you have more than one AOR returned,
click on the checkbox on the far  left of that row in the Results
pane. Ensure that "restrict data in other tabs" is  checked near the
top of the Results pane. This makes sure that the data as shown in 
the other tabs only pertains to the one observation you have
selected.  (You can also  select more than one, but let's not for
right now.) Click on the "Level 2 (PBCD)" tab. <P>

The Level 2 tab shows you the highest-level products available for
this observation,  such as mosaics or extracted spectra.  Look at the
"file type" to discern whether they  are images or tables (spectra).  
Click on a row corresponding to one of these  products.<P>

In the Details pane, click on the "Data" tab. These are the real data
that are  shown. If an image, click on the "spider-webby" icon midway
down on the left of the image to  get coordinates added to your
image.  Is the object you care about within the  mosaic?  Can you see
it? You can change the stretch to further investigate it; go back and
get the image tools, and click on  the icon on the top left of the
visualization (the one that looks like a color cube) to  change the
colors and the one that looks like a squashed color cube to change
the  stretch.  If it is a spectrum, you can examine the 2-D image
prior to spectral  extraction to see if there is something there; you
can also make line plots of  extracted spectra.<P>
 

Convinced that you should pursue this? Go back to the AOR tab in the
Results pane,  and ensure that the checkbox on the far left of the
line is checked. Click on "Prepare  Download" (near the top of the
Results pane) and ask for the Level 2 data, plus  ancillary if you are
feeling complete. <P>

 

While the data are packaging up, you may wish to see if anyone has
delivered  reduced data on your region back to IRSA. Investigate any
other tabs returned, either "IRS enhanced" or "Contributed Products".
The former is any IRS spectra in your region of interest, and the
latter is anything delivered back to the SSC by the community in this
region. The interface for exploring these data is very similar to that
above, both for exploring images and spectra, and for downloading the
data.<P>
 
If you do find Contributed Products, click on the first link provided
(the name  of the dataset) to bring up another tab with the search
results. You can investigate  the coverage to see if you want to
download the data, or overlay the source list to  see if you want that
catalog. If you do download data or catalogs, please do obtain  and
read the delivery documentation (obtainable from the page you reach
by  clicking the 'more' link after the entry on the Inventory Summary
tab).  There may  be caveats about the images, or data quality flags
in the catalogs.   <P>

For more information about the IRS Enhanced Products, see the IRS
Instrument Handbook.<P>
 


By now, your original Spitzer data packaging should be done and ready
for  download. Click on 'Background monitor' in the upper right to
bring up a popup with your packaged data. Click on the links to
download the files; if there are many files, try out the scripts to 
download them all automatically. Consult the IRAC, IRS, or MIPS
Instrument  Handbook for additional information about the files,
descriptions of artifacts, data  reduction examples, etc., and you're
on your way! <P>



<h3>I study {this subject, as opposed to this target}, and I want to
know if there  were any Spitzer programs specifically studying {this
subject}.</h3>

From the main search page, pick "Abstract" to do an abstract search. 
If you study  planetary nebulae, then a search on "planetary nebula"
ought to pull up both the  singular and plural forms of the noun. 
Note that big surveys will cover huge swaths  of sky that will contain
objects of many different types (e.g., many planetary nebulae  in the
galactic plane covered by both GLIMPSE and MIPSGAL), and this sort of
search  will only return projects which mentioned your search words in
the abstract.   However, it should give you some good leads to
follow.  <P>

Click on any project to pull up all of the observations associated
with that program  into the Search Results window pane, and proceed
from there as with any other search.<P>

 


 <h3>I want to search the SHA for a whole list of objects all at
 once.</h3>

You can do a "batch search."  Search by position then click on "from
file."  <P>

The file format can be a fully compliant <a
href="http://irsa.ipac.caltech.edu/applications/DDGEN/Doc/ipac_tbl.html"
target="_blank">IPAC table file</A>, or a
relatively simple plain text file described below.  For an
IPAC table file, you may find <a
href="http://irsa.ipac.caltech.edu/applications/TblCheck/"
target="_blank">the IPAC table file verification service</A> helpful. <P>

If doing a regular non-IPAC table file search, the file format is:
<pre>
COORD_SYSTEM: Equatorial 
# Equatorial, Galactic, or Ecliptic - default is Equatorial 
EQUINOX: J2000 # B1950, J2000, or blank for Galactic - default is J2000 
NAME-RESOLVER: NED # NED or Simbad - default is Simbad 
#Name     RA/LON       DEC/LAT     PM-RA PM-DEC EPOCH 
"NGC 001" 12h34m23.45s 34d23m56.2s 2.3    3.4 1950.3 
NGC2222   23.56d       34.456d     2.3    3.4 1950.3 
NGC3333   23.56h       34.456d     2.3    3.4 1950.3 
NGC4444  "12 34 12.23" "34 23 45.45" 
m31 
legacy  "17 18 00" "59 30 00" 
m32 
m33       simbad
NGC6946  
NGC5194  
ngc2992 
</pre>

The SHA parses on spaces, so a space is the delimiter between fields.
Therefore, if  there is a space in your object name (e.g., "NGC 1001"
versus "NGC1001") or  position ("34 23 45.45" versus 34d23m45.45s"),
you need to put quotes around the  target name or its position. <P>

Note in the example above that in some cases, I have specified the
epoch of the  observations (e.g., "NGC3333"), or I have allowed NED to
resolve the name ("m31"),  or I have asked for SIMBAD to resolve the
name ("m33").  Note that the name  resolver is not case-sensitive
("NGC5194" vs. "ngc2992").<P>

When you are ready to search, go back to the SHA, find the file on
your disk and  upload it to the SHA.  The search results should be
returned like any other search,  though it may not be tagged for later
repeating of the search.<P>

If the  same AOR is returned for more than one of your targets, it
appears in the list more  than once.<P>

Having problems making this work? Double-check your formatting --
that's the most  common error. If name resolution fails for some of
the targets, the rest of the search  may fail -- provide coordinates
for the troublesome names, or remove them.<P>


<h3>Just get my program's data out of a recent campaign.</h3>

Many programs in the Warm Era are time series observations, and some 
investigators may want all the data from a given program that have
just been  released. <P>

Search by campaign for the most recent campaign. Many AORs will be 
returned, but only the first n rows will appear (where n defaults to
50). Once the  results appear, apply a filter to the results. Click on
"add filters" in the upper right of  the "Campaign Search Results"
pane. Click on "Program ID" from the first drop-down menu. Leave the
operator as the default "=". Enter the program ID you want.  Apply the
filter and close the filters window. Just the AORs from that campaign
and  that program will appear.   Select all of them by clicking the
checkbox on the top of  the column of checkboxes. Click 'Prepare
Download' and select which data you want  packaged.  Once packaged,
download the data from the background monitor.  <P>

NOTE THAT the filters as imposed this way only apply to your current tab, even if 
"restrict data in other tabs" is selected!<P>

<h3>Just getting calibration data. </h3>

Although your data arrive calibrated after having gone through the
pipelines,  some investigators may wish to find the calibration data
that are tied to a particular  campaign. <P>

Search by campaign for the one you want. Many AORs will be returned,
but  only the first n rows will appear (where n defaults to 50).
Calibration observations  are likely to be among the first in the
campaign.  Look at one of these rows by  selecting the row (clicking
anywhere on it) and noting the details that appear in the  Details
pane.  Calibration programs will have a program ID, title, and PIs
just like a  regular science observing program, but the titles will
look like "Calibration  Program" and the PI will look like "IRAC
Calibration".  Each campaign should have  its own calibration program
ID, though some may have more than one.  You can  explore these and
note the program ID (PID) and the PI of a calibration observation  in
your campaign.  Apply a filter to the search results to leave only
programs like  that calibration program. Click on "add filters" in the
upper right of the "Campaign  Search Results" pane. Click on "PI" and
enter the PI of calibration program, being  careful to match the text
exactly, OR click on "PID" and enter the program ID of the 
calibration program. Apply the filter and close the filters window.
Just the AORs  from that campaign and that program will appear.  
Select all of them by clicking the  checkbox on the top of the column
of checkboxes. Click 'Prepare Download' and  select which data you
want packaged.  Once packaged, download the data from the  background
monitor.<P>

NOTE THAT the filters as imposed this way only apply to your current
tab, even if  "restrict data in other tabs" is selected!<P>


<h3>Finding data from two different instruments or modes at once.</h3>

If you have searched on, e.g., the FEPS Legacy program ID, and are
looking at a  long list of observations using IRAC, MIPS, and IRS,
perhaps you wish to just view  IRS Stare and IRS Map observations.<P>

If you have already searched and are looking at the grid of results,
you can  impose filters.  But, the filters imposed after a search are
logically  ANDed together; that is, if you add a filter to only show
IRS Staring observations and  then add another filter to only show IRS
Mapping Observations, you will be left with  no data, because the
filters are looking for data that are both IRS Stare AND IRS Map,  and
no data meet (can ever meet) that requirement.<P>

The fastest way to actually weed down the results in the fashion
desired in this  example is to repeat your search slightly
differently.  Click on "More Options" to pull down the additional
options. Click on all the  observing modes you wish to include, and
un-select the observing modes you do not  wish to include. Search
again, and the search results will then only include, e.g., data  from
both IRS Staring and IRS Mapping observations. <P>

But -- see the next example!


<h3>Finding data from two different channels at once.</h3>

If you have searched on IRAC data and are looking at a stack of
results,  perhaps you only want to examine and download the 5.8 and 8
micron results.<P>

If you have already searched and are looking at the grid of results,
you can  impose filters.  Although the filters imposed after a search
are most commonly  logically ANDed together, you can get around this. 
You can use the "IN" operator  which means 'included within this
list', e.g., the parameter on which I am querying  (such as
"Bandpass") is included within the list I am specifying (such as, from
the list  of bandpasses provided, where more than one can be selected
by holding down the  command key and clicking on the bands desired). 
For this example, do exactly that --  go to the Level 1 or Level 2 tab,
click on "Apply filters", then pick "Bandpass", then  "IN", then
select 5.8 and 8 microns from the list.  Don't forget to "Apply" the
filter,  then close the filter window. The rows that should be left in
the window are just the  ones that correspond to the 5.8 and 8 micron
observations. <P>

NOTE THAT the filters as imposed this way only apply to your current
tab, even if  "restrict data in other tabs" is selected!<P>


<h3>Finding IRAC subarray Level 2 data.</h3>

When you do a search on most IRAC data, individual data frames (Level
1) as  well as mosaics (Level 2) are returned.  But no mosaics are
produced for IRAC  subarray data!  If you search on subarray data (or
if subarray data are some of the  results you have uncovered), and if
you do not select Level 1 data as one of your  desired results, these
subarray data will appear to vanish because they have no data  to
display in the Level 2 tab.<P>

Since no subarray mosaics are created, there will never be any to
display. You  must download the Level 1 BCD frames, and make your own
mosaic from the BCD  data using MOPEX or another software package of
your choice.<P>

<em>Potential gotcha:</em> If you search for a list of observations
of, e.g., certain exoplanet  targets, you will return many
observations in the AOR tab, some of which will be  subarray and some
of which will be full array. When you go directly to the Level 2  tab
for this search, there will be entries from the full array
observations, but not the  subarray observations. If you have searched
only for subarray observations, it is  obvious that something unusual
is going on when you go to the Level 2 tab and get  'no data to
display.' But, when you have a mixture of kinds of observations in
the  AOR tab, then there are still rows to display in Level 2, and it
is not obvious that  something unusual has happened.<P>

Why the heck does the pipeline not make mosaics for subarray data? The
post-BCD  pipeline was not designed to work with the three-dimensional
data cubes that are  the subarray BCDs. When the software was
developed it was deemed unlikely that  subarray observations would be
used for anything other than photometry of single  bright objects and
mosaics would not be a desired product. Please see the IRAC 
Instrument Handbook for more information on dealing with subarray
data.<P>


<h3>Finding other IRAC Level 2 data that appears to be missing.</h3>

When you do a search on most IRAC data, individual data frames (Level
1) as  well as mosaics (Level 2) are returned.  But, for some other
kinds of IRAC  observations (some IERs), there are also no Level 2
products produced.<P>

Since no mosaics are or will be produced, there will never be any
Level 2  products for download.  You must download the Level 1 data
and make your own  mosaic from the BCD data using MOPEX or another
software package of your choice.<P>

The IERs where there are missing Level 2 products are ones where there
are more  than 8000 frames within a single observation. These are most
commonly exoplanet  monitoring observations, in which case a single
mosaic is not particularly the  desired product in any case. <P>







</BODY>
</HTML>
