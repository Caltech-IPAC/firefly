<!doctype html>

<html>

<head>
    <meta http-equiv="Cache-Control" content="no-cache">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Demo of Firefly Tools</title>
</head>

<body>


<div style="width: 500px; padding: 20px 0 0 20px;">
    This page demos 3 different ways to show fits images.
    <ul style="padding: 20px 0 0 40px;">
        <li>The first plot uses the 2mass service</li>
        <li>The second plots from an URL</li>
        <li>The last two link show how you can pop out a FITS image by clicking on a link without leaving the page</li>
    </ul>
    <br>
    <br>
    There are many options on how images can be plotted.  There is full control over the zoom level, stretch,
    color table, cropping and rotation.
    <br>
    <br>
    <br>
</div>


<table>
    <tr>
        <td>
            <div id="serviceHere" style="width: 350px; height: 350px; padding: 10px 5px 5px 5px;"></div>
        </td>
        <td>
            <div id="wiseURLHere" style="width: 350px; height: 350px; padding: 10px 5px 5px 5px;"></div>
        </td>
        <td>
        <table style="padding-left: 30px">
            <tr>
                <td> Wise data  </td>
                <td>
                    <!--<a href='javascript:showPlot("http://***REMOVED***/demo/wise-m31-level1-3.fits")'>Wise level 1 m31</a>-->
                    <!--<a href='javascript:open("pop.html")'>Wise level 1 m31</a>-->
                    <a href='javascript:firefly.getExternalViewer().plotURL("http://web.ipac.caltech.edu/staff/roby/demo/wise-m51-band1.fits")'>wise m51 -external</a>
                </td>
            </tr>
            <tr>
                <td> PTF data  </td>
                <td>
                    <a href='javascript:firefly.getExpandViewer().plotURL("http://***REMOVED***/demo/ptf-m31-test-file.fits")'>PTF m31</a>
                </td>

            </tr>
            <tr>
                <td> PTF data Separate window </td>
                <td>
                    <a href='javascript:firefly.getExternalViewer().plotURL("http://***REMOVED***/demo/ptf-m31-test-file.fits")'>PTF m31 -separate</a>
                </td>

            </tr>
            <tr>
                <td> temp </td>
                <td>
                    <a href='javascript:firefly.getExternalViewer().plotURL("http://***REMOVED***.ipac.caltech.edu:9072/cgi-bin/Subimage/nph-subimage?origfile=/irsadata/SPITZER/GLIMPSE//images/I/0.6_mosaics_v2.0/GLON_310-330/GLM_32750%2B0075_mosaic_I4.fits&ra=236.575420&dec=-53.254440&xsize=0.400000")'>temp</a>
                </td>

            </tr>
            <tr>
                <td> temp full</td>
                <td>
                    <a href='javascript:firefly.getExternalViewer().plotURL("http://***REMOVED***.ipac.caltech.edu:9072/data/SPITZER/GLIMPSE/images/I/1.2_mosaics_v2.0/GLON_310-330/GLM_32700%2B0000_mosaic_I1.fits")'>temp</a>
                </td>

            </tr>
            <tr>
                <td> temp cube</td>
                <td>
                    <a href='javascript:firefly.getExternalViewer().plotURL("http://***REMOVED***.ipac.caltech.edu:9072/data/SPITZER/SAGE/spectra/extended/SSDR1_ll_LL1_cube.fits")'>temp</a>
                </td>

            </tr>
        </table>
        </td>
    </tr>
</table>


<script type="text/javascript">
    {
        onFireflyLoaded= function() {
            firefly.debug= true;
            firefly.setGlobalDefaultParams({"ColorTable": "8"});

            var iv= firefly.makeImageViewer("serviceHere");
            iv.plot( {  "Type"      : "SERVICE",
                        "Service"   : "TWOMASS",
                        "UserDesc"  : "Test",
                        "Title"     : "2mass from service",
                        "ZoomType"  : "STANDARD",
                        "InitZoomLevel" : "1",
                        "SurveyKey"  : "k",
                        "WorldPt"    : "10.68479;41.26906;EQ_J2000",
                        "SizeInDeg"  : ".12",
                        "ColorTable" : "1",
                        "AllowImageSelection" : "true" } );


            firefly.makeTabGroup("wiseURLHere", "tabs");

            var iv2= firefly.makeImageViewer("tabs");
            iv2.plot( {"Type"      : "URL",
                       "URL"       : "http://web.ipac.caltech.edu/staff/roby/demo/wise-m51-band2.fits",
                       "Title"     : "Wise image from a URL",
                       "ZoomType"  : "TO_WIDTH",
                       "ZoomToWidth" : "350"}
            );


            var ex= firefly.getExpandViewer();
            ex.setDefaultParams({   "Title"     : "FITS Data",
                                    "RangeValues" : firefly.serializeRangeValues("Sigma",-2,8,"Linear")
                                }) ;
            ex.setWindowClose(true);

            var external= firefly.getExternalViewer();
            external.setTarget("dataview");
            external.setDefaultParams({   "TitleOptions"     : "FILE_NAME",
                                          "RangeValues" : firefly.serializeRangeValues("Sigma",-2,8,"Linear")
                                }) ;
        }

   }
   
</script>




<script type="text/javascript">
    function showPlot(reference) {
        firefly.getExpandViewer().plotURL(reference);
    }

</script>


<!--<script type="text/javascript" language='javascript'-->
        <!--src='https://ceres.ipac.caltech.edu/fftools/fftools.nocache.js'>-->
<!--</script>-->

<script type="text/javascript" language='javascript'
src='fftools.nocache.js'>
</script>

<!--<script type="text/javascript" language='javascript'-->
        <!--src='http://gabriel.ipac.caltech.edu:8080/fftools/fftools.nocache.js'>-->
<!--</script>-->
<!--<script type="text/javascript" language='javascript'-->
        <!--src='http://10.0.1.9:8080/fftools/fftools.nocache.js'>-->
<!--</script>-->

<!--<script type="text/javascript" language='javascript'-->
        <!--src='http://***REMOVED***/fftools/fftools.nocache.js'>-->
<!--</script>-->


</body>
</html>
