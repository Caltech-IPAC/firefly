<!doctype html>

<html>

<head>
    <meta http-equiv="Cache-Control" content="no-cache">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Demo of Firefly Tools</title>
</head>

<body>

<div style="width: 500px; padding: 20px 0 0 20px;">
    This pages demos how you can bring up a firefly tools table and then attach a plot to it.
    <br>
    <br>
    The first table attaches a coverage. Notice that the coverage overlay is linked to the plot.
    Clicking on the plot causes the table to change, clicking on the table causes the overlay to highlight.
    <br>
    <br>
    The second tables attaches a plot plot preview to the table.  Clicking on the table changes the plot.
    <br>
    <br>
    <!--<span style="font-weight: bold;"  >Click on a row of the table to see a image</span>-->
    <br>
    <br>
</div>


<table>
    <tr>
        <td>
            <div id="Search Results" style="width: 800px; height: 400px; margin : 5px 8px 0px 10px; padding: 5px 5px 5px 5px; border: solid 1px;"></div>
        </td>
        <td>
            <div id="coverageHere" style="width: 400px; height: 400px; padding: 5px 5px 5px 5px; border: solid 1px;"></div>
        </td>
    </tr>
    <tr>

    </tr>
</table>


<div id="Input Table" style="width: 400px; height: 100px; margin : 5px 8px 0px 10px; padding: 5px 5px 5px 5px; border: solid 1px;"></div>
</div>


<script type="text/javascript">
    {
        onFireflyLoaded= function() {
            firefly.debug= true;
//            firefly.setRootPath("data");

//            var table1Data= { "source" : "http://***REMOVED***/demo/WiseDemoTable.tbl"};

            var table1Data= { "source" : "fp_2mass.fp_psc29179.tbl",
                              "tableOptions": "show-title=true,Title=Query Results"
                         };
            firefly.showTable(table1Data, "Search Results");

            var table2Data= { "source" : "ascii.tbl",
                              "tableOptions": "show-title=true,Title=Input Table"
                         };
            firefly.showTable(table2Data, "Input Table");


            firefly.addCoveragePlot({"QUERY_ID" : "Search Results,Input Table",
                                     "MultiCoverage": "true",
                                     "EVENT_WORKER_ID": "target",
                                     "OverlayPosition" : "12.302606;3.40944;EQ_J2000;xxx",
                                     "Shape": "Search Results=CROSS,Input Table=square",
                                     "COLOR": "Search Results=green,Input Table=yellow"
                                    },
                                    "coverageHere" );
        }
   }
   
</script>



<script type="text/javascript" language='javascript'
        src='fftools.nocache.js'>
</script>

<!--<script type="text/javascript" language='javascript'-->
        <!--src='fftools.nocache.js'>-->
<!--</script>-->



</body>
</html>
