<!doctype html>

<html>

<head>
    <meta http-equiv="Cache-Control" content="no-cache">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no">
    <meta name='gwt:module' content='edu.caltech.ipac.fftools.FFToolsDebug.gwt.xml'>

    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=EmulateIE9" />
    <title>Test Fits Viewer</title>
</head>

<body>


<!--                                           -->
<!-- The body can have arbitrary html, or      -->
<!-- you can leave the body empty if you want  -->
<!-- to create a completely dynamic ui         -->
<!--                                           -->
<!--<body>-->
<!--add loading indicator while the app is being loaded-->
<div>
   This is a test.
    <ul>
        <li>item 1</li>
        <li>item 2</li>
        <li>item 3</li>
        <li>item 4</li>
    </ul>
    More text here...
</div>


<div id="fv1" style="width: 200px; height: 200px; padding: 10px 5px 5px 5px;"></div>
<div id="fv2" style="width: 500px; height: 500px; padding: 10px 5px 5px 5px;"></div>

<script type="text/javascript">
    {
        onFireflyLoaded= function() {
                //alert("runNow");
//                var data= {  "Type"      : "SERVICE",
//                             "Service"   : "TWOMASS",
//                             "UserDesc"  : "Test",
//                             "Title"     : "Test Plot",
//                             "ZoomType"  : "STANDARD",
//                             "InitZoomLevel" : "1",
//                             "SurveyKey"  : "k",
//                             "WorldPt"    : "10.68479;41.26906;EQ_J2000",
//                             "SizeInDeg"  : ".12",
//                             "PlotToDiv"  : "fv1",
//                             "AllowImageSelection" : "true"
//                           };
            var data= {  "Type"      : "SERVICE",
                        "Service"   : "SDSS",
                        "UserDesc"  : "Test SDSS",
                        "Title"     : "Test Plot SDSS",
                        "ZoomType"  : "STANDARD",
                        "InitZoomLevel" : "1",
                        "SurveyKey"  : "g",
                        "WorldPt"    : "195.1;2.5;EQ_J2000",
                        "SizeInDeg"  : ".1",
                        "PlotToDiv"  : "fv1",
                        "AllowImageSelection" : "true"
                      };


                firefly.plotGroupedImage(data, "group1");
                var data2= { "Type"      : "URL",
                             "URL"       : "http://localhost:8080/fftools/2mass-m31-green.fits",
                             "Title"     : "FITS from a URL",
                             "ZoomType"  : "TO_WIDTH",
                             "ZoomToWidth" : "500",
                             "PlotToDiv"  : "fv2"
                           };
                firefly.plotGroupedImage(data2, "group1");
          }

   }
   
</script>

<script type="text/javascript">
   function showPlot(reference) {
                var data= {  "Type"      : "URL",
                             "URL"       : reference, 
                             "Title"     : "Only popout",
                             "PlotToDiv"  : "fv2"
                           };
                firefly.plotAsExpanded(data);
   }
</script>

<script type="text/javascript" language='javascript' src='fftools.nocache.js'></script>

<a href='javascript:showPlot("http://localhost:8080/fftools/wise-m31-level1-3.fits")'>WISE level 1 m31</a>
<br>
<a href='javascript:showPlot("http://localhost:8080/fftools/ptf-m31-test-file.fits")'>PTF m31</a>


<!-- OPTIONAL: include this if you want history support -->
<iframe id="__gwt_historyFrame" style="width:0;height:0;border:0"></iframe>

</body>

</html>
